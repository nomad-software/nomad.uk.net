<!DOCTYPE HTML>
<html>
	<head>
		<title>nomad.uk.net</title>

		<meta name="author" content="Gary Willoughby">
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />

		<link rel="shortcut icon" href="/images/favicon.ico" />
		<link rel="stylesheet" type="text/css" href="/css/site.css">
		<link rel="stylesheet" type="text/css" href="/css/gist.css">
		<link rel="stylesheet" type="text/css" href="/css/disqus.css">
	</head>
	<body>
		<header>
			<div class="content">
				<table>
					<tr>
						<td class="logo">
							<a href="/"><h1>nomad<span class="highlight">software</span></h1></a>
						</td>
						<td class="links">
							<a title="Twitter" href="https://twitter.com/nomaddeveloper" target="_blank"><img src="/images/header/twitter.png" alt="Twitter"></a>
							<a title="Linkedin" href="http://uk.linkedin.com/pub/gary-willoughby/63/489/33b" target="_blank"><img src="/images/header/linkedin.png" alt="Linkedin"></a>
							<a title="Github" href="https://github.com/nomad-software" target="_blank"><img src="/images/header/github.png" alt="Github"></a>
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<div class="nav-bar">
								<ul>
									<li><a href="/"><img src="/images/header/home.png" /></a></li>
									<li><a href="/pages/about.html">About</a></li>
									<li><a href="/pages/contribute.html">Contribute</a></li>
								</ul>
							</div>
						</td>
					</tr>
				</table>
			</div>
		</header>

		<div class="body">
			<div class="content">
				<div class="figure">
<img src="/articles/images/why-gos-design-is-a-disservice-to-intelligent-programmers-banner.jpg" />

</div>
<h1 id="why-gos-design-is-a-disservice-to-intelligent-programmers">Why Go‚Äôs design is a disservice to intelligent programmers</h1>
<p><time>Posted on 25th March 2015 by <a href="/pages/about.html">Gary Willoughby</a></time></p>
<p>Over the course of the past few months I‚Äôve been using <a href="https://golang.org/">Go</a> to implement a <a href="https://en.wikipedia.org/wiki/Proof_of_concept">proof of concept</a> program in my spare time. This was done in part to learn Go and to also see if such a program would work. The program itself is very simplistic and not the focus of this article but my experience of using Go is worth writing a few words. Go is shaping up to be a popular language for doing serious large scale work and a language created by <a href="https://github.com/golang/go">Google</a> is not to be sniffed at. With all that said, I honestly think Go‚Äôs design is a disservice to intelligent programmers.</p>
<h2 id="created-for-lesser-programmers">Created for lesser programmers?</h2>
<div class="figure">
<img src="/articles/images/an-introduction-to-programming-in-go-book-cover.png" />

</div>
<p>Go is very easy to learn, in fact it‚Äôs so easy it took me one evening to read an introductory text and be productive almost immediately. The book I learned from was entitled <a href="http://www.golang-book.com/">An Introduction to Programming in Go</a> and is available on-line. Similar to Go, the book is easy to read with good examples and clocking in at about 150 pages you can finish it in one sitting. Initially this simplicity starts off very refreshing in a programming world full of overly complicated technologies but there‚Äôs a niggling thought of &quot;Is that it?&quot;.</p>
<p>Google maintains that Go‚Äôs simplicity is a selling point and it‚Äôs designed that way for maximising productivity in large teams but I‚Äôm not convinced. There are aspects of Go that are either seriously lacking or overly verbose because it doesn‚Äôt trust developers to get things right. This focus on simplicity was a concious decision made by the language designers and in order to fully understand why, we need to understand the motivation for developing Go and the state of mind of the creators.</p>
<p>So why create it so simple? Well, here‚Äôs a few quotes from <a href="https://en.wikipedia.org/wiki/Rob_Pike">Rob Pike</a>:</p>
<blockquote>
<p>The key point here is our programmers are Googlers, they‚Äôre not researchers. They‚Äôre typically, fairly young, fresh out of school, probably learned Java, maybe learned C or C++, probably learned Python. They‚Äôre not capable of understanding a brilliant language but we want to use them to build good software. So, the language that we give them has to be easy for them to understand and easy to adopt. ‚Äì Rob Pike <sup>1</sup></p>
</blockquote>
<blockquote>
<p>It must be familiar, roughly C-like. Programmers working at Google are early in their careers and are most familiar with procedural languages, particularly from the C family. The need to get programmers productive quickly in a new language means that the language cannot be too radical. ‚Äì Rob Pike <sup>2</sup></p>
</blockquote>
<p>What? So Rob Pike is basically saying that the developers at Google aren‚Äôt very good so they‚Äôve developed a dumbed down language so they can get things done. What a condescending view on your own employees. I‚Äôve always thought that the developers at Google are hand picked from the brightest and best on Earth. Surely they can handle something a little more complicated?</p>
<h2 id="artifacts-of-being-too-simple">Artifacts of being too simple</h2>
<p>Being simple is a noble pursuit of any design and trying to make something simple is hard. However, when trying to solve (or even express) complicated problems you sometimes need a complicated tool. Of course too much complexity is bad in programming but there is a nice middle ground when the language allows you to create elegant abstractions that make things easier to understand and use. From my experience of using Go it‚Äôs just too simple to create useful abstractions.</p>
<h3 id="not-very-expressive">Not very expressive</h3>
<p>Because Go is so simple most constructs that other languages take for granted have been left out. On the surface this looks like a good idea but when confronted with a problem you can only write verbose code. A reason for Go‚Äôs simplicity is to help developers read other people‚Äôs code but being overly simplistic actually hurts readability. There are no shortcuts in Go, it‚Äôs verbose code or nothing.</p>
<p>For example, if you are writing a command line tool that needs to read text input from <a href="https://en.wikipedia.org/wiki/Standard_streams#Standard_input_.28stdin.29">stdin</a> or a file passed as an argument, you might do it like this:</p>
<script src="https://gist.github.com/nomad-software/682fa91b30fcb7dd243e43cf3d3b33f1.js"></script>
<p>Although this code is trying to be as generic as possible you are hamstrung by Go‚Äôs forced verbosity and a simple task ends up being a <em>lot</em> of code.</p>
<p>Here‚Äôs the same example using the <a href="https://dlang.org/">D language</a>:</p>
<script src="https://gist.github.com/nomad-software/2098c42493b1ff04a79497c14da31671.js"></script>
<p>Now, which one is more readable? I‚Äôd choose the D version. It‚Äôs a lot more readable purely because it‚Äôs expressing the program‚Äôs intent in a much more clear way. This code also uses concepts that are more advanced than the Go code but they‚Äôre nothing too complicated that an intelligent programmer couldn‚Äôt pick up <a href="/articles/alternative-function-syntax-in-d-banner.html">quickly</a> and <a href="/articles/templates-in-d-explained.html">easily</a>.</p>
<h3 id="boiler-plate-hell">Boiler plate hell</h3>
<p>A feature often requested for Go is support for <a href="https://en.wikipedia.org/wiki/Generic_programming">generics</a>. This would at least allow for stopping all the unnecessary boiler plate code that has to be created to support all needed data types. If for example you‚Äôd like to create a function which calculates the sum of a list of integers you are immediately sentenced to implementing the same function for all needed data types. There simply is no other way around it.</p>
<p>Here‚Äôs an example:</p>
<script src="https://gist.github.com/nomad-software/3b7d517dfb5404efbace11e4f254f29c.js"></script>
<p>This example doesn‚Äôt even implement all the integer types, just the <a href="https://en.wikipedia.org/wiki/Integer_%28computer_science%29">signed</a> ones. This is a complete violation of <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a>, one of programmings most well known and understood principles and ignoring it is a huge source of bugs. Why on Earth would you want to do this? This is a terrible facet of Go.</p>
<p>Here‚Äôs the same example in D:</p>
<script src="https://gist.github.com/nomad-software/2efe729e232120230d085ef6fb807e3f.js"></script>
<p>Simple, elegant and straight to the point. Here the <code>reduce</code> function can handle <em>any</em> type and the predicate (passed as a template parameter) defines how to reduce the list. Yes it‚Äôs more complicated than Go but not so complicated that intelligent programmers can‚Äôt understand it. Which is more maintainable and easy to read?</p>
<h3 id="an-easily-circumvented-type-system">An easily circumvented type system</h3>
<p>I guess by now Go programmers reading this will be frothing at the mouth shouting ‚ÄúYou‚Äôre doing it wrong!‚Äù. Well, there is another way of implementing generic functions and data types, and that is to completely break the type system!</p>
<p>Check this example out for a showcase of <del>stupidity</del> patching a language to overcome shortfalls:</p>
<script src="https://gist.github.com/nomad-software/4b5a837ce7df363abb840ea7ffa296aa.js"></script>
<p>This <code>Reduce</code> implementation was taken from an on-line article entitled <a href="http://bouk.co/blog/idiomatic-generics-in-go/">Idiomatic generics in Go</a>. Well if that‚Äôs idiomatic, i‚Äôd hate to see un-idiomatic. Using <code>interface{}</code> is a farce and is only included in the language to circumvent type checking. It is an empty interface which is implicitly implemented by all types allowing a total free for all. This style of programming is as ugly as hell and not only that but to perform such acrobatics in the above example you are also forced to use runtime <a href="https://en.wikipedia.org/wiki/Reflection_(computer_programming)">reflection</a>. Even Rob Pike doesn‚Äôt like people abusing reflection and has mentioned this in many talks.</p>
<blockquote>
<p>It‚Äôs a powerful tool that should be used with care and avoided unless strictly necessary. ‚Äì Rob Pike <sup>3</sup></p>
</blockquote>
<p>I‚Äôd take <a href="/articles/templates-in-d-explained.html">D‚Äôs templates</a> any day over this nonsense. How can anyone say <code>interface{}</code> is more readable or even type safe?</p>
<h2 id="dependency-management-woes">Dependency management woes</h2>
<p>Go has a built-in dependency system which is built upon popular source control hosting services. The tools that ship with Go are aware of these services and can retrieve code from them, install and build it in one fell swoop. While this is great, there is a major oversight and that is versioning! Yes that‚Äôs right you can retrieve source code from services such as <a href="https://github.com/">github</a> or <a href="https://bitbucket.org/">bitbucket</a> using the Go tools but you can‚Äôt specify a version of the code. Again this screams that the design has been made as simple as possible to the detriment of being useful. I can‚Äôt fathom the thinking behind such a decision.</p>
<p>When questions where asked about this state the Go team wrote a <a href="https://groups.google.com/forum/#!msg/golang-dev/nMWoEAG55v8/iJGgur7W_SEJ">forum thread</a> outlining how they where going to get around this issue. Their recommendation was to just copy the entire repository at that time into your project and leave it as-is. What the hell are they thinking? We have these awesome source control systems with great tagging and version support which the Go creators ignore and just copy the whole thing around.</p>
<h2 id="cultural-baggage-from-c">Cultural baggage from C</h2>
<p>In my opinion Go has been designed by people who have been using <a href="https://en.wikipedia.org/wiki/C_%28programming_language%29">C</a> all their lives and don‚Äôt want to try anything new. The language could be described as C with <a href="https://en.wikipedia.org/wiki/Training_wheels">training wheels</a>. There is no new ideas in the language apart from the concurrency support (which is excellent by the way) and it‚Äôs such a shame. You have this great concurrency support in a barely usable, hamstrung language.</p>
<p>Another grating issue is that because Go is <a href="https://en.wikipedia.org/wiki/Procedural_programming">procedural</a> (just like C ‚Äòshock horror‚Äô) you start writing code in a procedural way which feels archaic and old hat. I know <a href="https://en.wikipedia.org/wiki/Object-oriented_programming">object-oriented programming</a> is no silver bullet but it would have been nice to be able to abstract details away into types and provide better <a href="https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)">encapsulation</a>.</p>
<h2 id="simplicity-for-its-own-sake">Simplicity for its own sake</h2>
<p>Go was designed to be simple and it has succeeded in that goal. It has been written for lesser programmers using an old language as a template. It comes complete with simple tools for doing simple things. It is simple to learn and simple to use.</p>
<p>It‚Äôs overly verbose, inexpressive and a disservice to intelligent programmers everywhere.</p>
<hr />
<ol style="list-style-type: decimal">
<li><a href="http://channel9.msdn.com/Events/Lang-NEXT/Lang-NEXT-2014/From-Parallel-to-Concurrent" class="uri">http://channel9.msdn.com/Events/Lang-NEXT/Lang-NEXT-2014/From-Parallel-to-Concurrent</a></li>
<li><a href="https://talks.golang.org/2012/splash.article" class="uri">https://talks.golang.org/2012/splash.article</a></li>
<li><a href="https://blog.golang.org/laws-of-reflection" class="uri">https://blog.golang.org/laws-of-reflection</a></li>
</ol>
															<div id="disqus_thread" class="disqus"></div>
						<script>
							var disqus_config = function() {
								this.page.url        = "http://nomad.uk.net/articles/why-gos-design-is-a-disservice-to-intelligent-programmers.html";
								this.page.identifier = "7b302d335e378871586e8d20db0d31d6";
							};

							(function() {
								var d = document;
								var s = d.createElement('script');
								s.src = 'https://nomad-software.disqus.com/embed.js';
								s.setAttribute('data-timestamp', +new Date());
								(d.head || d.body).appendChild(s);
							})();
						</script>
												</div>
		</div>

		<footer>
			<div class="content">
				<table>
					<tr>
						<td>
							<img src="https://s.gravatar.com/avatar/8b96f7858444f2ec6d364adfea854acc?s=80" class="thumb" />
						</td>
						<td>
							<p class="author">
								<strong>Author: Gary Willoughby</strong><br>
								Software engineer and published author with nearly twenty years experience of software design and development.
							</p>

							<div class="links">
								<a title="Twitter" href="https://twitter.com/nomaddeveloper" target="_blank"><img src="/images/header/twitter.png" alt="Twitter"></a>
								<a title="Linkedin" href="http://uk.linkedin.com/pub/gary-willoughby/63/489/33b" target="_blank"><img src="/images/header/linkedin.png" alt="Linkedin"></a>
								<a title="Github" href="https://github.com/nomad-software" target="_blank"><img src="/images/header/github.png" alt="Github"></a>
							</div>

							<p class="copyright">
								Content copyright &copy; 2017 Gary Willoughby All Rights Reserved.
								All source code is public domain and provided "as is", so use at your own risk.
								All content previously appeared at <a href="http://nomad.so/" target="_blank">www.nomad.so</a> and carefully migrated here because the somalis wanted their domain back! üòû
							</p>
						</td>
					</tr>
				</table>
			</div>
		</footer>
	</body>
</html>
